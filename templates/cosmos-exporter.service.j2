# Cosmos Exporter systemd service
# Generated by Ansible - DO NOT EDIT MANUALLY

[Unit]
Description=Cosmos Exporter for {{ chain_id }}
Documentation=https://github.com/solarlabsteam/cosmos-exporter
After=network-online.target
Wants=network-online.target

[Service]
Type=simple
User=prometheus
Group=prometheus

ExecStart=/usr/local/bin/cosmos-exporter \
    --denom {{ denom | default('uaura') }} \
    --denom-coefficient {{ denom_coefficient | default(1000000) }} \
    --bech-prefix {{ bech_prefix | default('aura') }} \
    --tendermint-rpc http://127.0.0.1:{{ rpc_port | default(26657) }} \
    --node http://127.0.0.1:{{ grpc_port | default(9090) }} \
    --listen-address :{{ cosmos_exporter_port | default(9300) }} \
{% if valoper_address is defined %}
    --validator {{ valoper_address }} \
{% endif %}
    --log-level {{ cosmos_exporter_log_level | default('info') }}

Restart=on-failure
RestartSec=10
LimitNOFILE=65535

# Security hardening
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=true
ReadOnlyPaths=/

# Environment
Environment="HOME=/var/lib/prometheus"

[Install]
WantedBy=multi-user.target
